package main

import (
	"fmt"

	"fyne.io/fyne/v2"
	"fyne.io/fyne/v2/app"
	"fyne.io/fyne/v2/canvas"
	"fyne.io/fyne/v2/container"
	"fyne.io/fyne/v2/widget"
)

func MainWindow() {
	fmt.Println("test")
	a := app.New()                          //stworzenie apki
	w := a.NewWindow("Nice to meet you :D") //stworzenie win
	w.Resize(fyne.NewSize(950, 500))        //Zmiana size

	//Tworzenie tła
	backgroundImage := canvas.NewImageFromFile("img/1667929357109.jpg")
	backgroundImage.FillMode = canvas.ImageFillOriginal

	// Tworzenie widżetu Label
	label := widget.NewLabel("Hello, this is the creator of this malware.")
	label1 := widget.NewLabel(" I regret to inform you that your files have been encrypted. Unfortunately, you can't do anything without my help. To get the rescue software,")
	label2 := widget.NewLabel("recover your files and remove this malware, you need to purchase it. Payment only possible in bitcoin. The price is $666 in bitcoins.")
	label3 := widget.NewLabel("Bitcoin sending address: twojstarypl")

	// Tworzenie widżetu Entry do wprowadzania tekstu
	entry := widget.NewEntry()
	entry.SetPlaceHolder("Enter Decryption Key...") // Tekst zastępczy

	// Tworzenie widżetu Button
	button := widget.NewButton("Decrypt", func() {
		//text := entry.Text
		//fmt.Println("Wprowadzony tekst:", text)
		//label.SetText("Wprowadzony tekst: " + text)
		//entry.SetText("") // Czyszczenie pola po kliknięciu
	})

	//Kontener Vbox tło i treści
	background := container.NewVBox(
		backgroundImage,
		label,
		label1,
		label2,
		label3,
		entry,
		button,
	)
	w.SetContent(background) // Ustawianie kontenera jako zawartość okna
	w.SetFixedSize(true)
	w.CenterOnScreen() //Ekran na srodku
	w.ShowAndRun()
}

func main() {
	MainWindow()
}
